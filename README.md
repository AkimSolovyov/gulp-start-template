# Стартовый шаблон сборки фронтенда

## Как использовать:

* Запускаем команду `npm i` - устанавливаем зависимости
* Запускаем команду `gulp` - запустится gulp, соберутся все файлы, стартовую страницу открываем в браузере по адресу http://localhost:3000/

## Структура папок
* 'src' - основная папка для разработки, в которой:
* 'css' – папка с собранными файлами стилей
* 'fonts' - папка с кастомными шрифтами
* 'img' - папка с изображениями, в которой:
* 'img/svg-to-sprite-monocolor' и 'img/svg-to-sprite-multicolor' - папки для SVG-иконок, из которых будут собраны SVG-спрайты и сложены в папку 'img/sprites'
* 'js' - папка для JS-файлов. Пользовательские скрипты пишем в файл common.js, вспомогательные скрипты и скрипты библиотек кладем в папку 'js/libs', после чего вручную подключаем их в файле gulpfile.js, в таске gulp:js
* 'pug' - папка для исходного кода HTML в формате PUG
* 'sass' - папка для исходного кода CSS в формате SCSS

## Таски GULP
* `gulp` - дефолтная задача для разработки (запускает все необходимые подзадачи, устанавливает вотчер за файлами, запускает дев-сервер с функцией livereload)
* `gulp pug` - компилирует файлы PUG в HTML
* `gulp sass` - компилирует файлы SCSS в CSS
* `gulp js` - собирает JS и склеивает все файлы в один - main.min.js
* `gulp svg-sprite:mono` - собирает SVG-спрайт из простых одноцветных SVG-иконок (можно управлять заливкой и размером через CSS)
* `gulp svg-sprite:multi` - собирает SVG-спрайт из сложных многоцветных SVG-иконок (можно управлять только размером)
* `gulp svg-sprite-build` - объединяет две задачи по работе с SVG-спрайтами
* `gulp browser-sync` - запускает дев-сервер по адресу http://localhost:3000/ вместе с функцией livereload
* `gulp watch` - следит за файлами, и перезапускает задачи при изменениях в них
* `gulp build` - собирает проект для деплоя (передачи backend-разработчику) в папку 'build'

## Общие примечания
* Перед началом разработки надо указать поддерживаемые браузеры в файле package.json

## Примечания по сборке стилей
* Исходные стили пишем с помощью препроцессора SASS (синтаксис SCSS)
* В сборке стилей используется пост-процессор-плагин POST-CSS
* В зависимости от списка поддерживаемых браузеров, в стили автоматически добавляются префиксы
* Все значения font-size и line-height в пикселях автоматически переводятся в rem
* CSS-правила сортируются согласно стандарту Concentric-CSS
* Добавлены некоторые автоматические улучшения/фиксы (детали в комментариях к таску gulp:sass)

## Примечания по сборке скриптов
* Пользовательские скрипты пишем в файл common.js
* Скрипты библиотек кладем в папку js/libs и подключаем в галп-таске gulp:js. Файл common.js всегда подключается последним
* Библиотека jQuery подключена через CDN с фоллбеком на локальный файл в папке js/vendor

## Примечания по сборке SVG-спрайтов
* Простые одноцветные иконки кладем в папку img/svg-to-sprite-monocolor
* Сложные многоцветные иконки кладем в папку img/svg-to-sprite-multicolor (примечание: этот способ не поддерживает сложные эффекты, например градиенты внутри SVG, которые наложены с помочью атрибута url(#ID))
* В CSS, простым иконкам задаем цвет (с помощью fill) и размер (с помощью font-size)
* В CSS, сложным иконкам задаем только размер (с помощью font-size)
* Иконки в файлы PUG подключаем через миксин. Пример - +icon-mono('icon-telegram')

## Примечания по сборке файлов для деплоя (передачи на backend)
* Таск gulp:build – общий таск сборки, который собирает все рабочие файлы в папку build
* Таск gulp:build разбит на под-таски, ознакомиться с структурой можно в файле gulpfile.js
* CSS минимизируется, в имя файла добавляется хеш-сумма файла
* Медиазапросы в CSS собираются в конец файла и сортируются в соответствии с выбранной методологией верстки (desktop- или mobile-first), для чего в файле gulpfile.js, в таске build:css надо установить соответственное значение в параметрах POST-CSS-плагина mqpacker (по умолчанию включена сортировка mobile-first)
* В консоль выводятся сообщения о возможных проблемах в браузерах, в зависимости от списка поддерживаемых браузеров в файле package.json
* JS минимизируется, в имя файла добавляется хеш-сумма файла
* HTML минимизируется (по дефолту отключено), пути для переименованных файлов CSS и JS заменяются на новые (для этих целей в корне проекта генерируется файл rev-manifest.json)
* Изображения сжимаются плагином imagemin (нет лимитов, низкий показатель сжатия; включен по умолчанию) или с помощью сервиса tinypng (лимит – 500 бесплатных сжатий изображений в месяц; выключен по умолчанию). Для сервиса tinypng нужно указать API_KEY, который можно получить по адресу https://tinypng.com/developers

---
## В случае обнаружений проблем/багов/недочетов - отправляйте пулл-реквесты с исправлениями.

---
> Лицензия - MIT: ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЯЕТСЯ «КАК ЕСТЬ», БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ, ЯВНО ВЫРАЖЕННЫХ ИЛИ ПОДРАЗУМЕВАЕМЫХ, ВКЛЮЧАЯ ГАРАНТИИ ТОВАРНОЙ ПРИГОДНОСТИ, СООТВЕТСТВИЯ ПО ЕГО КОНКРЕТНОМУ НАЗНАЧЕНИЮ И ОТСУТСТВИЯ НАРУШЕНИЙ, НО НЕ ОГРАНИЧИВАЯСЬ ИМИ. НИ В КАКОМ СЛУЧАЕ АВТОРЫ ИЛИ ПРАВООБЛАДАТЕЛИ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ ПО КАКИМ-ЛИБО ИСКАМ, ЗА УЩЕРБ ИЛИ ПО ИНЫМ ТРЕБОВАНИЯМ, В ТОМ ЧИСЛЕ, ПРИ ДЕЙСТВИИ КОНТРАКТА, ДЕЛИКТЕ ИЛИ ИНОЙ СИТУАЦИИ, ВОЗНИКШИМ ИЗ-ЗА ИСПОЛЬЗОВАНИЯ ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ ИЛИ ИНЫХ ДЕЙСТВИЙ С ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ.

 